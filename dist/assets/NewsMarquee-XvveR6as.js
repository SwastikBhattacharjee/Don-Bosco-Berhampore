import{c as p,j as e,m as l,r as i}from"./index-D0wx3I60.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=p("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=p("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=p("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),c=({title:t,children:r,bgColor:n})=>e.jsxs("div",{className:`${n} p-4 rounded-lg shadow-lg h-full flex flex-col`,children:[e.jsx("div",{className:"sticky top-0 z-10 bg-inherit pt-2 pb-3 -mx-4 px-4 rounded-t-lg border-b border-white/20",children:e.jsx("h2",{className:"text-lg font-semibold text-white",children:t})}),e.jsx("div",{className:"relative flex-1 overflow-hidden mt-4",children:e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"absolute inset-0",children:r})})]}),j="birthdaysDate",u="birthdaysData",w="newsData",N="achievementsData",B=()=>localStorage.getItem(j),d=t=>JSON.parse(localStorage.getItem(t)||"[]"),h=(t,r)=>localStorage.setItem(t,JSON.stringify(r)),I=(t,r)=>{localStorage.setItem(j,t),h(u,r)},A=()=>{const[t,r]=i.useState(d(w)),[n,f]=i.useState(d(N)),[m,k]=i.useState(d(u)),[M,D]=i.useState(!1);return i.useEffect(()=>{(async()=>{const a=new Date().toISOString().split("T")[0];if(B()!==a)try{const[o,x,y]=await Promise.all([fetch("https://dbs-api-3h4s.onrender.com/notices"),fetch("https://dbs-api-3h4s.onrender.com/competitionResults"),fetch("https://dbs-api-3h4s.onrender.com/birthdays")]);if(!o.ok||!x.ok||!y.ok)throw new Error("Failed to fetch data");const v=await o.json(),b=await x.json(),g=await y.json();r(v.notices||[]),f(b.competitionResults||[]),k(g.birthdays||[]),h(w,v.notices||[]),h(N,b.competitionResults||[]),I(a,g.birthdays||[])}catch(o){console.error("Error fetching data:",o),D(!0)}})()},[]),e.jsx("div",{className:"bg-[#0C0C0C] py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[M&&e.jsx("p",{className:"text-red-500 text-center",children:"Data not received"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"News and Birthdays"}),e.jsx("div",{className:"w-20 h-1 bg-purple-500 mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 min-h-[400px] sm:min-h-[400px] md:min-h-full",children:[e.jsx("div",{className:"min-h-[400px] overflow-auto",children:e.jsx(c,{title:"Latest News",bgColor:"bg-gradient-to-b from-[#2D1B69] to-[#4B0082]",children:e.jsx(l.div,{animate:{y:[-400,0]},transition:{y:{repeat:1/0,repeatType:"reverse",duration:20,ease:"linear"}},className:"space-y-4 pt-2",children:t.length>0?t.map((s,a)=>e.jsx("div",{className:"p-4 bg-white/5 rounded-lg backdrop-blur-sm cursor-pointer",onClick:()=>window.open(s.url,"_blank"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-purple-300 mt-1 flex-shrink-0"}),e.jsx("div",{children:e.jsx("h3",{className:"text-white font-semibold",children:s.title})})]})},a)):e.jsx("p",{className:"text-gray-300 text-center",children:"No News Available"})})})}),e.jsx("div",{className:"min-h-[400px] overflow-auto",children:e.jsx(c,{title:"Competition Results",bgColor:"bg-gradient-to-b from-[#4B0082] to-[#2D1B69]",children:e.jsx(l.div,{animate:{y:[-400,0]},transition:{y:{repeat:1/0,repeatType:"reverse",duration:20,ease:"linear"}},className:"space-y-4 pt-2",children:n.length>0?n.map((s,a)=>e.jsx("div",{className:"p-4 bg-white/5 rounded-lg backdrop-blur-sm cursor-pointer",onClick:()=>window.open(s.url,"_blank"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-400 mt-1 flex-shrink-0"}),e.jsx("div",{children:e.jsx("h3",{className:"text-white font-semibold",children:s.title})})]})},a)):e.jsx("p",{className:"text-gray-300 text-center",children:"No Achievements Available"})})})}),e.jsx("div",{className:"min-h-[400px] overflow-auto",children:e.jsx(c,{title:"Today's Birthdays",bgColor:"bg-gradient-to-b from-[#2D1B69] to-[#4B0082]",children:e.jsx(l.div,{animate:{y:[-400,0]},transition:{y:{repeat:1/0,repeatType:"reverse",duration:10,ease:"linear"}},className:"space-y-4 pt-2",children:m.length>0?m.map((s,a)=>e.jsx("div",{className:"p-4 bg-white/5 rounded-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"w-5 h-5 text-pink-400 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:s[0]}),e.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:["Class ",s[1],"-",s[2]]})]})]})},a)):e.jsx("p",{className:"text-gray-300 text-center",children:"No Birthdays Today!"})})})})]})]})})};export{A as default};
