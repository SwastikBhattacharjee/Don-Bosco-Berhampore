import{c as u,r as d,j as e,m as l}from"./index-D0wx3I60.js";import{u as g}from"./index-1sy41hM0.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=u("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),m="housePointsData",x="housePointsLastUpdated",f=()=>JSON.parse(localStorage.getItem(m)||"[]"),b=()=>localStorage.getItem(x),j=n=>{localStorage.setItem(m,JSON.stringify(n)),localStorage.setItem(x,new Date().toISOString())},H=()=>{const[n,i]=g({triggerOnce:!0,threshold:.1}),[h,r]=d.useState([{name:"Red House",color:"bg-red-600",points:0},{name:"Green House",color:"bg-green-600",points:0},{name:"Yellow House",color:"bg-yellow-500",points:0},{name:"Blue House",color:"bg-blue-600",points:0}]);return d.useEffect(()=>{(async()=>{const s=b(),p=2*24*60*60*1e3;if(s&&new Date-new Date(s)<p){const o=f();if(o.length>0){r(o);return}}try{const a=await(await fetch("https://dbs-api-3h4s.onrender.com/housePoints")).json(),c=[{name:"Red House",color:"bg-red-600",points:a.housePoints.Red||0},{name:"Green House",color:"bg-green-600",points:a.housePoints.Green||0},{name:"Yellow House",color:"bg-yellow-500",points:a.housePoints.Yellow||0},{name:"Blue House",color:"bg-blue-600",points:a.housePoints.Blue||0}];r(c),j(c)}catch(o){console.error("Error fetching house points:",o)}})()},[]),e.jsx("section",{ref:n,className:"py-20 bg-gradient-to-b from-[#2D1B69] to-[#0C0C0C]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(l.div,{initial:{y:20,opacity:0},animate:i?{y:0,opacity:1}:{},transition:{duration:.8},className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"House Points"}),e.jsx("div",{className:"w-20 h-1 bg-purple-500 mx-auto"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:h.map((t,s)=>e.jsx(l.div,{initial:{y:50,opacity:0},animate:i?{y:0,opacity:1}:{},transition:{duration:.8,delay:s*.2},className:"relative",children:e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-6 text-center transform hover:scale-105 transition-transform",children:[e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:`${t.color} rounded-full p-4 shadow-lg`,children:e.jsx(w,{className:"h-8 w-8 text-white"})})}),e.jsx("h3",{className:"mt-8 text-xl font-bold text-white mb-4",children:t.name}),e.jsx("div",{className:"relative pt-4",children:e.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-gray-700",children:e.jsx(l.div,{initial:{width:0},animate:i?{width:`${t.points/3e3*100}%`}:{},transition:{duration:1.5,delay:s*.2},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${t.color}`})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-3xl font-bold text-white",children:t.points}),e.jsx("span",{className:"text-gray-400 ml-2",children:"points"})]})]})},t.name))})]})})};export{H as default};
